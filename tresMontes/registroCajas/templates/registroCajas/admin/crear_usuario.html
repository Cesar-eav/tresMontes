{% extends '../base.html' %}
{% block title %}Crear Usuario{% endblock %}
{% block content %}
<div class="header">
    <a href="{% url 'admin_usuarios' %}" style="position: absolute; left: 15px; color: white;"><i class="bi bi-arrow-left"></i></a>
    <h2>Crear Usuario</h2>
</div>
<div class="content">
    {% if messages %}{% for message in messages %}<div class="alert alert-{{ message.tags }}">{{ message }}</div>{% endfor %}{% endif %}
    <form method="POST">{% csrf_token %}
        <div class="form-group"><label>Nombre Completo *</label><input type="text" name="nombre_completo" class="form-control" required></div>
        <div class="form-group"><label>Usuario *</label><input type="text" name="username" class="form-control" required></div>
        <div class="form-group"><label>Contrase√±a *</label><input type="password" name="password" class="form-control" required></div>
        <div class="form-group"><label>Email</label><input type="email" name="email" class="form-control"></div>
        <div class="form-group"><label>RUT</label><input type="text" id="rut_crear_usuario" name="rut" class="form-control" placeholder="12.345.678-9"></div>
        <div class="form-group"><label>Rol *</label><select name="rol" class="form-control" required><option value="admin">Administrador</option><option value="guardia">Guardia</option></select></div>
        <div class="form-group"><label>Planta *</label><select name="planta" class="form-control" required>{% for planta in plantas %}<option value="{{ planta.id }}">{{ planta.nombre }}</option>{% endfor %}</select></div>
        <button type="submit" class="btn btn-primary w-100"><i class="bi bi-check-circle me-2"></i> Crear Usuario</button>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        vincularFormateadorRUT('rut_crear_usuario');
    });
</script>
{% endblock %}
